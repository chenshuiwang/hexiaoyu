<html>

<head>
    <title>www.layabox.com</title>
    <meta charset='utf-8' />
    <meta name='renderer' content='webkit' />
    <meta name='viewport' content='width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no'
    />
    <meta name='apple-mobile-web-app-capable' content='yes' />
    <meta name='full-screen' content='true' />
    <meta name='x5-fullscreen' content='true' />
    <meta name='360-fullscreen' content='true' />
    <meta name='laya' screenorientation='landscape' />
    <meta http-equiv='expires' content='0' />
    <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1' />
    <meta http-equiv='expires' content='0' />
    <meta http-equiv='Cache-Control' content='no-siteapp' />
</head>

<body>
    <script type="text/javascript">
        let gameIndex = 0;
        const gameArray = [ 'http://res.qianliaowang.com/game-prod/laya/K1-13-05-1-03-20200706135715/index.js-d01f77b7.js' ];
        // http://127.0.0.1:5011/
        function gameAction(obj) {
            switch (obj.type) {
                // case 'right':
                //     this.gameRight(obj)
                //     break
                // case 'wrong':
                //     this.gameWrong(obj)
                //     break
                case 'success':
                    this.gameSuccess(obj)
                    break
                // case 'loaded':
                //     this.gameLoaded(obj)
                //     break
            }
        }

        function gameSuccess() {
            console.log('success gameIndex>>', gameIndex);
            gameIndex++;
            if (gameIndex < gameArray.length) {
                setTimeout(()=>{
                    window.loadLib(gameArray[gameIndex]); 
                }, 2000);
            } else {
                alert('游戏结束');
            }
        }

        window.gameAction = this.gameAction;

        window.loadLib = (url) => {
            console.log('window.loadLib', url);
            const script = document.createElement('script')
            script.async = false
            script.src = url && url.replace(/(.*\:)/, '');
            document.body.appendChild(script)
        }

        window.loadLib('//res.qianliaowang.com/res-components/lib/laya/ql.laya.core.prod.js?v=2');
        window.loadLib('//res.qianliaowang.com/res-components/lib/laya/ql.laya.ui.js?v=2');

        window.loadLib(gameArray[gameIndex]);
    </script>
</body>

</html>